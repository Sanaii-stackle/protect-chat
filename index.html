<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Encrypted Ranger Chat Demo</title>
  <style>
    :root {
      --bg-color: #f5f5f5;
      --text-color: #111;
      --card-bg: #ffffff;
      --accent-color: #444;
      --input-bg: #ffffff;
      --input-border: #ccc;
      --my-bubble-bg: #eeeeee;
    }

    /* RED RANGER THEME */
    body[data-ranger="red"] {
      --bg-color: #1f0004;
      --text-color: #ffecec;
      --card-bg: #2b0008;
      --accent-color: #ff4d4d;
      --input-bg: #3b0509;
      --input-border: #ff8080;
      --my-bubble-bg: #4d1015;
    }

    /* BLUE RANGER THEME */
    body[data-ranger="blue"] {
      --bg-color: #001523;
      --text-color: #e2f1ff;
      --card-bg: #001f33;
      --accent-color: #4da3ff;
      --input-bg: #04263f;
      --input-border: #7bbdff;
      --my-bubble-bg: #083458;
    }

    /* GREEN RANGER THEME */
    body[data-ranger="green"] {
      --bg-color: #001b10;
      --text-color: #e1ffed;
      --card-bg: #00251a;
      --accent-color: #27e38a;
      --input-bg: #003323;
      --input-border: #68f5b1;
      --my-bubble-bg: #004430;
    }

    /* YELLOW RANGER THEME */
    body[data-ranger="yellow"] {
      --bg-color: #231a00;
      --text-color: #fff9d9;
      --card-bg: #302400;
      --accent-color: #ffd54d;
      --input-bg: #3f2f00;
      --input-border: #ffe47f;
      --my-bubble-bg: #574000;
    }

    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 20px;
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
    }

    h2 {
      margin-top: 0;
      color: var(--accent-color);
    }

    #config {
      display: flex;
      gap: 20px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 4px;
    }

    input, select {
      padding: 5px 8px;
      border-radius: 4px;
      border: 1px solid var(--input-border);
      background: var(--input-bg);
      color: var(--text-color);
    }

    input::placeholder {
      color: #999;
    }

    #chat {
      border: 1px solid var(--accent-color);
      border-radius: 8px;
      padding: 10px;
      height: 300px;
      overflow-y: auto;
      background: var(--card-bg);
    }

    .msg {
      margin-bottom: 8px;
      padding: 6px 8px;
      border-radius: 6px;
      background: #00000020;
    }

    .msg.me {
      background: var(--my-bubble-bg);
    }

    .msg-header {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 2px;
      font-size: 0.9rem;
    }

    .ranger-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border: 1px solid #ffffff40;
    }

    .ranger-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: currentColor;
    }

    /* Ranger colors for pills/bubbles */
    .msg[data-ranger="red"] .ranger-pill { color: #ff8080; border-color: #ff808080; }
    .msg[data-ranger="blue"] .ranger-pill { color: #7bbdff; border-color: #7bbdff80; }
    .msg[data-ranger="green"] .ranger-pill { color: #68f5b1; border-color: #68f5b180; }
    .msg[data-ranger="yellow"] .ranger-pill { color: #ffe47f; border-color: #ffe47f80; }

    .plain {
      font-weight: bold;
      display: block;
      margin-bottom: 2px;
    }

    .cipher {
      font-family: monospace;
      font-size: 0.75rem;
      opacity: 0.8;
      word-wrap: break-word;
    }

    #inputRow {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    #message {
      flex: 1;
      padding: 5px 8px;
      border-radius: 4px;
      border: 1px solid var(--input-border);
      background: var(--input-bg);
      color: var(--text-color);
    }

    #sendBtn {
      padding: 6px 14px;
      border-radius: 4px;
      border: 1px solid var(--accent-color);
      background: var(--accent-color);
      color: #000;
      font-weight: 600;
      cursor: pointer;
    }

    #sendBtn:hover {
      filter: brightness(1.1);
    }
  </style>
</head>
<body data-ranger="red">
  <h2>Protect: Encrypted Ranger Chat</h2>

  <div id="config">
    <div>
      <label>
        Name:
        <input type="text" id="username" placeholder="Red Ranger" />
      </label>
    </div>
    <div>
      <label>
        Shared Key:
        <input type="text" id="key" placeholder="HACKRANGERS" />
      </label>
    </div>
    <div>
      <label>
        Choose Your Ranger:
        <select id="ranger">
          <option value="red">Red Ranger</option>
          <option value="blue">Blue Ranger</option>
          <option value="green">Green Ranger</option>
          <option value="yellow">Yellow Ranger</option>
        </select>
      </label>
    </div>
  </div>

  <div id="chat"></div>

  <div id="inputRow">
    <input type="text" id="message" placeholder="Type an encrypted ranger message..." />
    <button id="sendBtn">Send</button>
  </div>

  <!-- Socket.io client script -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Your chat logic -->
  <script src="chat.js"></script>
</body>
</html>
